[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "A Little About Me",
    "section": "",
    "text": "Hi there! My name is Fatima and I’m a student at Baruch College pursuing my Master’s in Business Analytics after earning my degree in Accounting this past Spring. I look forward to a wonderful semester with you all!"
  },
  {
    "objectID": "mp01.html",
    "href": "mp01.html",
    "title": "Exploring the Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Fatima W. | 09/22/2024\n\n\n\n7 Train Sunset, Anne Marie Clarke, 2022. Source: Flickr\n\n\n\nObjective\nAs cities expand and populations grow across the US, public transit continues to play a critical role in minimizing harmful emissions, reducing congestion, and is essential in providing accessible transit options. However, at what cost is it worth? Ultimately, passengers would love the idea of free transportation. Yet the financial health of transit systems across the country remains a challenge to most areas. One way this is measured is the farebox recovery ratio, that is, how much a transit system’s costs are covered by passenger fares. Essentially, it’s the fraction of revenues made from the fares we pay instead of taxes. It then comes to a question where we ask ourselves, are the transit systems we use really worth the money we pay? What does a fiscally healthy transit service look like and how efficient is it? How do transit systems across the country compare?\n\n\nThe Data Explained\nWhile the farebox ratio does provide key insights about a transit’s operational efficiency, it is a starting point to the many other factors that subjectively impact what a healthy transit service may look like. In this analysis, I’ll be using data obtained from the National Transit Database (NTD) to analyze and judge the efficiency of US transit systems. More specifically, focus will be placed on farebox revenues, total revenues and expenses, and the total number of passenger trips and vehicle miles traveled. Data is compiled over the years from as early as 2002 to present day, however for purposes of my analysis, I will be using the 2022 version of the reports. This is done by combining several variables from the 2022 Fare Revenue table, the latest Monthly Ridership tables, and the 2022 Operating Expenses reports.\n\nif(!require(\"tidyverse\")) install.packages(\"tidyverse\")\n\n# Let's start with Fare Revenue\nlibrary(tidyverse)\nif(!file.exists(\"2022_fare_revenue.xlsx\")){\n  download.file(\"http://www.transit.dot.gov/sites/fta.dot.gov/files/2024-04/2022%20Fare%20Revenue.xlsx\", \n                destfile=\"2022_fare_revenue.xlsx\", \n                quiet=FALSE, \n                method=\"wget\")\n}\nFARES &lt;- readxl::read_xlsx(\"2022_fare_revenue.xlsx\") |&gt;\n  select(-`State/Parent NTD ID`, \n         -`Reporter Type`,\n         -`Reporting Module`,\n         -`TOS`,\n         -`Passenger Paid Fares`,\n         -`Organization Paid Fares`) |&gt;\n  filter(`Expense Type` == \"Funds Earned During Period\") |&gt;\n  select(-`Expense Type`)\n\n# Next, expenses\nif(!file.exists(\"2022_expenses.csv\")){\n  download.file(\"https://data.transportation.gov/api/views/dkxx-zjd6/rows.csv?date=20231102&accessType=DOWNLOAD&bom=true&format=true\", \n                destfile=\"2022_expenses.csv\", \n                quiet=FALSE, \n                method=\"wget\")\n}\nEXPENSES &lt;- readr::read_csv(\"2022_expenses.csv\") |&gt;\n  select(`NTD ID`, \n         `Agency`,\n         `Total`, \n         `Mode`) |&gt;\n  mutate(`NTD ID` = as.integer(`NTD ID`)) |&gt;\n  rename(Expenses = Total) |&gt;\n  group_by(`NTD ID`, `Mode`) |&gt;\n  summarize(Expenses = sum(Expenses)) |&gt;\n  ungroup()\n\nFINANCIALS &lt;- inner_join(FARES, EXPENSES, join_by(`NTD ID`, `Mode`))\n\n# Monthly Transit Numbers\nlibrary(tidyverse)\nif(!file.exists(\"ridership.xlsx\")){\n  download.file(\"https://www.transit.dot.gov/sites/fta.dot.gov/files/2024-09/July%202024%20Complete%20Monthly%20Ridership%20%28with%20adjustments%20and%20estimates%29_240903.xlsx\", \n                destfile=\"ridership.xlsx\", \n                quiet=FALSE, \n                method=\"wget\")\n}\nTRIPS &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"UPT\") |&gt;\n  filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n  select(-`Legacy NTD ID`, \n         -`Reporter Type`, \n         -`Mode/Type of Service Status`, \n         -`UACE CD`, \n         -`TOS`) |&gt;\n  pivot_longer(-c(`NTD ID`:`3 Mode`), \n               names_to=\"month\", \n               values_to=\"UPT\") |&gt;\n  drop_na() |&gt;\n  mutate(month=my(month)) # Parse _m_onth _y_ear date specs\nMILES &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"VRM\") |&gt;\n  filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n  select(-`Legacy NTD ID`, \n         -`Reporter Type`, \n         -`Mode/Type of Service Status`, \n         -`UACE CD`, \n         -`TOS`) |&gt;\n  pivot_longer(-c(`NTD ID`:`3 Mode`), \n               names_to=\"month\", \n               values_to=\"VRM\") |&gt;\n  drop_na() |&gt;\n  group_by(`NTD ID`, `Agency`, `UZA Name`, \n           `Mode`, `3 Mode`, month) |&gt;\n  summarize(VRM = sum(VRM)) |&gt;\n  ungroup() |&gt;\n  mutate(month=my(month)) # Parse _m_onth _y_ear date specs\n\nUSAGE &lt;- inner_join(TRIPS, MILES) |&gt;\n  mutate(`NTD ID` = as.integer(`NTD ID`))\n\nAfter cleaning and joining the data and renaming some of our variables, it is finally ready for our use. The table below is a sample of our data, showcasing the variables used in uncovering farebox recovery ratios and ridership trends over time:\n\nif(!require(\"DT\")) install.packages(\"DT\")\nlibrary(DT)\n\nUSAGE &lt;- USAGE |&gt;\n  rename(metro_area = 'UZA Name')\n\nUSAGE &lt;- USAGE |&gt;\n  mutate(Mode = case_when(\n    Mode == \"HR\" ~ \"Heavy Rail\", \n    Mode == \"DR\" ~ \"Demand Response\", \n    Mode == \"FB\" ~ \"Ferryboat\", \n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"SR\" ~ \"Streetcar Rail\", \n    Mode == \"TB\" ~ \"Trolleybus\", \n    Mode == \"VP\" ~ \"Vanpool\", \n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"RB\"~ \"Bus Rapid Transit\", \n    Mode == \"LR\" ~ \"Light Rail\", \n    Mode == \"YR\" ~ \"Hybrid Rail\", \n    Mode == \"MG\" ~ \"Monorail/Automated guideway transit\", \n    Mode == \"CR\" ~ \"Commuter Rail\", \n    Mode == \"AR\" ~ \"Alaska Railroad\", \n    Mode == \"TR\" ~ \"Aerial Tramways\", \n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"PB\" ~ \"Publico\", \n    Mode == \"CC\" ~ \"Cable Car\",\n    TRUE ~ \"Unknown\"))\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month = as.character(month)) |&gt; \n  select(-`NTD ID`,-`3 Mode`) |&gt;\n  DT::datatable()\n\n\n\n\n\nWhile most variables’ names are self-explanatory, it’s important to note the following:\n\nUPT\n\nstands for “Unlinked Passenger Trips”; it is the total number of individual passenger boardings or trips on a transit system.\n\nVRM\n\nstands for “Vehicle Revenue Miles”; it is the total number of miles that transit vehicles travel when in service.\n\n\n\n\nService Capacity: Vehicle Revenue Miles (VRM)\nOne of the key indicators of transit efficiency is VRM (Vehicle Revenue Miles), which is a measure of how much service an agency provides to the public. High levels of VRM generally indicates there is high passenger demand for service, operations may be performed over large areas, and/or frequent trips are provided to passengers. This offers more opportunities for riders to access public transit, impacting the efficiency of a transit system.\nWithin our dataset, I found the MTA New York City Transit to have the highest total VRM of nearly 11 billion miles traveled:\n\nagency_most_vrm &lt;- USAGE |&gt; \n  group_by(Agency) |&gt;\n  summarize(total_agency_vrm = sum(VRM)) |&gt;\n  arrange(desc(total_agency_vrm)) |&gt;\n  slice(1)\n  \nprint(agency_most_vrm)\n\n# A tibble: 1 × 2\n  Agency                    total_agency_vrm\n  &lt;chr&gt;                                &lt;dbl&gt;\n1 MTA New York City Transit      10832855350\n\n\nThis suggests the MTA transit system is a significant contributor among other public transit systems across the US. As a resident of New York City, this finding was unsurprising to me considering the majority of the population heavily relies on public transit in the overcrowded city.\nIt’s also noteworthy to mention that this number is inclusive of all modes of transportation (i.e. bus, heavy rail, etc.). Taking a look at which transit mode has the highest VRM:\n\nmode_most_vrm &lt;- USAGE |&gt;\n  group_by(Mode) |&gt;\n  summarize(total_mode_vrm = sum(VRM, na.rm = TRUE)) |&gt;\n  arrange(desc(total_mode_vrm)) |&gt;\n  slice(1)\n  \nprint(mode_most_vrm)\n\n# A tibble: 1 × 2\n  Mode  total_mode_vrm\n  &lt;chr&gt;          &lt;dbl&gt;\n1 Bus      49444494088\n\n\nWe see that buses were found to have the most VRM in total, which can be due to a variety of reasons. For example, do passengers use public bus transport because they may be safer and/or more convenient than other modes of transportation? Or is it possible that buses are the only means of transportation in the area? These are just a few points to consider when analyzing such results.\n\nmode_nyc &lt;- USAGE |&gt;\n  filter(Agency == \"MTA New York City Transit\") |&gt;\n  group_by(Mode) |&gt;\n  summarize(total_nycmode_vrm = sum(VRM)) |&gt;\n  arrange(desc(total_nycmode_vrm)) |&gt;\n  slice(1)\n  \nprint(mode_nyc)\n\n# A tibble: 1 × 2\n  Mode       total_nycmode_vrm\n  &lt;chr&gt;                  &lt;dbl&gt;\n1 Heavy Rail        7732916753\n\n\nAdditionally, I wanted to see which mode of transport contributed the most to the MTA’s high VRM, which was found to be (as I expected) heavy rail, or the subway. It is no surprise that the subway plays one of the most important roles in traveling across urban areas like New York City. Overall, it’s interesting to see the difference of modes impacting VRM across New York City and the nation overall.\n\n\nRidership Trends & Unlinked Passenger Trips (UPT): Pre & Post Pandemic\nWhile VRM is a useful variable in measuring transit efficiency, UPT (Unlinked Passenger Trips) proves to be another critical measure, that is, the ridership levels. Higher levels of UPT generally indicates there is a strong demand for its respective transit services.\nNow if we continue taking a look at the MTA New York City agency’s numbers for heavy rail, we’ll see that over 230 million trips were taken by passengers in May of 2024 alone:\n\nmay2024_nyctrips &lt;- USAGE |&gt;\n  filter(Mode == \"Heavy Rail\", month &gt;= \"2024-05-01\", month &lt;= \"2024-05-31\") |&gt;\n  summarize(nyc_may24 = sum(UPT, na.rm = TRUE))\n\nprint(may2024_nyctrips)\n\n# A tibble: 1 × 1\n  nyc_may24\n      &lt;dbl&gt;\n1 237383777\n\n\nWhile this number may seem high and suggests the city’s continued reliance on subway systems in New York, this certainly was not the case due to the COVID-19 pandemic that began nearly four years ago. Since the lockdown in NYC officially began in mid March, we’ll take a look at the total number of UPT for the month of April in 2019, and compare it against that of 2020.\n\ndiff_april_total_ridership &lt;- USAGE |&gt;\n  filter(Mode == \"Heavy Rail\", \n         (month &gt;= \"2019-04-01\" & month &lt;= \"2019-04-30\") |\n         (month &gt;= \"2020-04-01\" & month &lt;= \"2020-04-30\")) |&gt;\n  group_by(month) |&gt;\n  summarize(april_total_upt = sum(UPT, na.rm = TRUE)) |&gt;\n  summarize(april_difference = \n              sum(april_total_upt[month &gt;= \"2020-04-01\" & month &lt;= \"2020-04-30\"]) - \n              sum(april_total_upt[month &gt;= \"2019-04-01\" & month &lt;= \"2019-04-30\"]))\n\nprint(diff_april_total_ridership)\n\n# A tibble: 1 × 1\n  april_difference\n             &lt;dbl&gt;\n1       -296416858\n\n\nBetween April 2019 and April 2020, the MTA NYC’s transit ridership severely declined by nearly 300 million passenger trips. Undoubtedly, the impact of the COVID-19 pandemic on NYC’s transit system was significant since concerns of health safety and remote work increased during the lockdown, among many other factors.\nOf course, the MTA was not the only agency impacted by the pandemic. Below are the top ten agencies with the highest passenger ridership decline between 2019 and 2020:\n\npandemic_ridership_2019 &lt;- USAGE |&gt; \n  filter(month &gt;= \"2019-01-01\" & month &lt;= \"2019-12-31\") |&gt;\n  group_by(Agency) |&gt;\n  summarize(upt_2019 = sum(UPT, na.rm = TRUE))\n\npandemic_ridership_2020 &lt;- USAGE |&gt;\n  filter(month &gt;= \"2020-01-01\" & month &lt;= \"2020-12-31\") |&gt;\n  group_by(Agency) |&gt;\n  summarize(upt_2020 = sum(UPT, na.rm = TRUE))\n\n#create a new df to find the ridership difference btwn the two years:\n\npandemic_ridership_decline &lt;- left_join(pandemic_ridership_2019, pandemic_ridership_2020, by = \"Agency\") |&gt;\n  mutate(ridership_decline = upt_2020 - upt_2019) |&gt;\n  arrange(ridership_decline)\n\nprint(pandemic_ridership_decline)\n\n# A tibble: 502 × 4\n   Agency                                    upt_2019 upt_2020 ridership_decline\n   &lt;chr&gt;                                        &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt;\n 1 MTA New York City Transit                   3.46e9   1.54e9       -1924202310\n 2 Chicago Transit Authority                   4.56e8   1.97e8        -258243748\n 3 Washington Metropolitan Area Transit Aut…   3.63e8   1.28e8        -235044193\n 4 Massachusetts Bay Transportation Authori…   3.63e8   1.48e8        -215279246\n 5 Southeastern Pennsylvania Transportation…   3.10e8   1.37e8        -173413816\n 6 Los Angeles County Metropolitan Transpor…   3.74e8   2.16e8        -158172651\n 7 New Jersey Transit Corporation              2.68e8   1.23e8        -144204949\n 8 City and County of San Francisco            2.19e8   8.91e7        -130190690\n 9 San Francisco Bay Area Rapid Transit Dis…   1.28e8   3.51e7         -92453618\n10 MTA Long Island Rail Road                   1.14e8   4.35e7         -70756457\n# ℹ 492 more rows\n\n\nThe MTA suffered the most significant decline in ridership, having lost nearly 1.92 billion trips, followed by the Chicago Transit Authority and Washington Metro. There’s a trend we can see here where major cities across the US are hit the hardest with ridership lost during the pandemic. It makes sense in heavily populated cities where citizens typically rely on public transportation daily. Nonetheless, the health crisis has revealed the weaknesses of transit systems during this difficult time.\n\n\nRidership Recovery & Preferred Modes of Travel\nDespite the sharp declines agencies have faced, these systems have begun to adapt to the new changes brought on since the pandemic in recent years. If we take a look at the top ten metro areas with the highest ridership in 2023, we can clearly see these select transit systems are up and running well:\n\nhighest_ridership_2023 &lt;- USAGE |&gt;\n  filter(month &gt;= \"2023-01-01\" & month &lt;= \"2023-12-31\") |&gt;\n  group_by(metro_area) |&gt;\n  summarize(upt_2023 = sum(UPT)) |&gt;\n  arrange(desc(upt_2023))\n\nprint(highest_ridership_2023)\n\n# A tibble: 291 × 2\n   metro_area                              upt_2023\n   &lt;chr&gt;                                      &lt;dbl&gt;\n 1 New York--Jersey City--Newark, NY--NJ 3267734375\n 2 Los Angeles--Long Beach--Anaheim, CA   405828291\n 3 Chicago, IL--IN                        332200253\n 4 Washington--Arlington, DC--VA--MD      298703885\n 5 San Francisco--Oakland, CA             268616926\n 6 Boston, MA--NH                         244459896\n 7 Philadelphia, PA--NJ--DE--MD           208815405\n 8 Seattle--Tacoma, WA                    153044584\n 9 Miami--Fort Lauderdale, FL             117709423\n10 San Diego, CA                           80364849\n# ℹ 281 more rows\n\n\nUnsurprisingly, the New York/New Jersey metro area had the highest ridership results of roughly 3.27 billion trips, with Los Angeles and Chicago following behind it. Seeing how NYC/New Jersey’s ridership statistics significantly surpasses other metro areas’ UPT, it suggests its commuters have a unique dependence on the city’s transit system when compared to other more car-dependent cities like Chicago and Los Angeles. Overall, these figures highlight the transit systems’ ability to bounce back, especially in major urban cities where traffic congestion and dense populations make public transit a crucial necessity.\nMoving onto preferred modes of travel, I was interested to see which is preferred when given two options: heavy rail and bus.\n\npreferred_mode &lt;- USAGE |&gt;\n  filter(Mode == \"Heavy Rail\" | Mode == \"Bus\") |&gt;\n  group_by(Mode) |&gt;\n  summarize(mode_upt = sum(UPT, na.rm = TRUE)) |&gt;\n  arrange(desc(mode_upt))\n\nprint(preferred_mode)\n\n# A tibble: 2 × 2\n  Mode          mode_upt\n  &lt;chr&gt;            &lt;dbl&gt;\n1 Bus        97720629073\n2 Heavy Rail 73571166122\n\n\nWe can see buses had roughly 97.7 billion riders in transit systems across the nation, whereas heavy rail had recorded 73.5 billion riders. I found this interesting because I had expected there to be more passengers that rode the train for a number of assumptions. One of these includes the assumption that trains travel faster than buses and naturally, passengers would prefer to take the train to get to their destination quicker. However I failed to consider that not only is heavy rail transportation likely more expensive to operate (and therefore may be more costly for the passenger’s fare price), but it’s also possible that commuters don’t have the option to choose between these modes of transportation. One may have no choice but to take a bus to their destination. Anyhow, this finding emphasizes the importance of buses for millions of riders across the country, despite urban areas’ dependence on heavy rail transportation.\n\n\nFarebox Recovery\nUp until this point, there has been much discussion about high levels of ridership and the amount of service provided by transit agencies. Previously stated, farebox recovery refers to the ratio of a transit’s operational costs to its passenger fares. As we begin to analyze farebox ratios and efficiency of transit systems, I’ll be focusing on major transit systems that are greater than or equal to 400,000 UPT for the year 2022 by creating a new dataframe with additional variables:\n\nUSAGE_2022_ANNUAL &lt;- USAGE |&gt;\n  filter(month &gt;= \"2022-01-01\" & month &lt;= \"2022-12-31\") |&gt;\n  group_by(`NTD ID`, Agency, metro_area, Mode, UPT, VRM) |&gt;\n  summarize(UPT = sum(UPT, na.rm = TRUE),\n            VRM = sum(VRM, na.rm = TRUE)) |&gt;\n  ungroup()\n\n# Have to fix abbreviations with full name for the variable Mode before left join:\nFINANCIALS &lt;- FINANCIALS |&gt;\n  mutate(Mode = case_when(\n    Mode == \"HR\" ~ \"Heavy Rail\", \n    Mode == \"DR\" ~ \"Demand Response\", \n    Mode == \"FB\" ~ \"Ferryboat\", \n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"SR\" ~ \"Streetcar Rail\", \n    Mode == \"TB\" ~ \"Trolleybus\", \n    Mode == \"VP\" ~ \"Vanpool\", \n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"RB\"~ \"Bus Rapid Transit\", \n    Mode == \"LR\" ~ \"Light Rail\", \n    Mode == \"YR\" ~ \"Hybrid Rail\", \n    Mode == \"MG\" ~ \"Monorail/Automated guideway transit\", \n    Mode == \"CR\" ~ \"Commuter Rail\", \n    Mode == \"AR\" ~ \"Alaska Railroad\", \n    Mode == \"TR\" ~ \"Aerial Tramways\", \n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"PB\" ~ \"Publico\", \n    Mode == \"CC\" ~ \"Cable Car\",\n    TRUE ~ \"Unknown\"))\n\n\nUSAGE_AND_FINANCIALS &lt;- left_join(USAGE_2022_ANNUAL, \n                                  FINANCIALS, \n                                  join_by(`NTD ID`, Mode)) |&gt;\n  drop_na()\n\nUsing the newly created dataframe, USAGE_AND_FINANCIALS, I’ll first determine which transit agency had the highest UPT based on heavy rail and buses in 2022:\n\nmost_upt_2022 &lt;- USAGE_AND_FINANCIALS |&gt;\n  filter(UPT &gt;= 400000) |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarize(highest_upt = max(UPT)) |&gt;\n  arrange(desc(highest_upt))\n\nprint(most_upt_2022)\n\n# A tibble: 146 × 3\n# Groups:   Agency [112]\n   Agency                                                   Mode     highest_upt\n   &lt;chr&gt;                                                    &lt;chr&gt;          &lt;dbl&gt;\n 1 MTA New York City Transit                                Heavy R…   171843098\n 2 MTA New York City Transit                                Bus         41244091\n 3 Los Angeles County Metropolitan Transportation Authority Bus         17344080\n 4 Chicago Transit Authority                                Bus         13300536\n 5 Chicago Transit Authority                                Heavy R…    10275760\n 6 Washington Metropolitan Area Transit Authority           Heavy R…    10242435\n 7 New Jersey Transit Corporation                           Bus          9977943\n 8 MTA Bus Company                                          Bus          9144229\n 9 Washington Metropolitan Area Transit Authority           Bus          8838389\n10 Southeastern Pennsylvania Transportation Authority       Bus          8670359\n# ℹ 136 more rows\n\n\nAs we previously discussed at length, the MTA New York City Transit continued to lead in UPT, with roughly 172 million trips in heavy rail, followed by 41 million trips in buses. However when we go on to calculate agencies with the highest farebox recovery ratio, calculated as total fares divided by expenses:\n\nhighest_fare_recov &lt;- USAGE_AND_FINANCIALS |&gt;\n  filter(UPT &gt;= 400000) |&gt;\n  mutate(fare_rec_rate = `Total Fares`/Expenses) |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarize(highest_ratio = max(fare_rec_rate)) |&gt;\n  arrange(desc(highest_ratio))\n\nprint(highest_fare_recov)\n\n# A tibble: 146 × 3\n# Groups:   Agency [112]\n   Agency                                                    Mode  highest_ratio\n   &lt;chr&gt;                                                     &lt;chr&gt;         &lt;dbl&gt;\n 1 Anaheim Transportation Network                            Bus           0.865\n 2 City of Gainesville, FL                                   Bus           0.548\n 3 MTA New York City Transit                                 Heav…         0.435\n 4 Massachusetts Bay Transportation Authority                Heav…         0.375\n 5 Woods Hole, Martha's Vineyard and Nantucket Steamship Au… Ferr…         0.335\n 6 Metro-North Commuter Railroad Company, dba: MTA Metro-No… Comm…         0.331\n 7 Centre Area Transportation Authority                      Bus           0.324\n 8 MTA Long Island Rail Road                                 Comm…         0.286\n 9 Southeastern Pennsylvania Transportation Authority        Heav…         0.253\n10 Regional Transportation Commission of Southern Nevada     Bus           0.252\n# ℹ 136 more rows\n\n\nWe see that the Anaheim Transportation Network (ATN) had the highest farebox recovery ratio of 86.5%, meaning most of its bus operating costs are covered by its passenger fares. Contrastingly, the MTA’s heavy rail system was ranked 43.5%, which is nearly half the farebox ratio of ATN. These comparisons don’t stop here; if we take a look at which transit system had the lowest expenses per UPT:\n\nlowest_exp_upt &lt;- USAGE_AND_FINANCIALS |&gt;\n  filter(UPT &gt;= 400000) |&gt;\n  mutate(exp_per_upt = Expenses/UPT) |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarize(min_exp_upt = min(exp_per_upt)) |&gt;\n  arrange(min_exp_upt)\n\nprint(lowest_exp_upt)\n\n# A tibble: 146 × 3\n# Groups:   Agency [112]\n   Agency                                                     Mode   min_exp_upt\n   &lt;chr&gt;                                                      &lt;chr&gt;        &lt;dbl&gt;\n 1 Anaheim Transportation Network                             Bus           12.8\n 2 University of Georgia                                      Bus           14.9\n 3 University of Michigan Parking and Transportation Services Bus           16.2\n 4 Town of Blacksburg                                         Bus           17.5\n 5 Ames Transit Agency                                        Bus           21.5\n 6 Centre Area Transportation Authority                       Bus           23.5\n 7 MTA New York City Transit                                  Heavy…        31.1\n 8 Greater Lafayette Public Transportation Corporation        Bus           31.5\n 9 San Diego Metropolitan Transit System                      Light…        31.6\n10 Champaign-Urbana Mass Transit District                     Bus           39.8\n# ℹ 136 more rows\n\n\nAgain we find ATN to rank first, indicating their financial efficiency at $12.80 per UPT. Meanwhile, the MTA had results much higher than that of ATN, roughly $31 per UPT. With such a high expense per rider, one would assume that the agency’s fare revenue generated would cover a larger proportion of its operating expenses. Yet the MTA’s low farebox ratio reveals the agency’s needs for additional funding to cover its costs. So although the MTA’s heavy rail service serves a much greater population over New York City’s four boroughs, these findings may suggest that smaller transit systems operate more cost-efficiently, whereas major city transit systems like the MTA are challenged with covering higher operational costs related to the extent and complexity of their services offered.\n\n\nOperational & Financial Efficiency\nFurthering the analysis of public transit’s operational and financial efficiency, we’ll now take a look at the fares and expenses incurred, still keeping our focus on major transit systems that are greater than or equal to 400,000 UPT for the year 2022. When calculating which system had the highest total fares per UPT:\n\nhighest_fare_upt &lt;- USAGE_AND_FINANCIALS |&gt;\n  filter(UPT &gt;= 400000) |&gt;\n  mutate(fare_per_upt = `Total Fares`/UPT) |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarize(max_fare_upt = max(fare_per_upt, na.rm = TRUE)) |&gt;\n  arrange(desc(max_fare_upt))\n\nprint(highest_fare_upt)\n\n# A tibble: 146 × 3\n# Groups:   Agency [112]\n   Agency                                                     Mode  max_fare_upt\n   &lt;chr&gt;                                                      &lt;chr&gt;        &lt;dbl&gt;\n 1 New Jersey Transit Corporation                             Bus          525. \n 2 Metro-North Commuter Railroad Company, dba: MTA Metro-Nor… Comm…        161. \n 3 Northeast Illinois Regional Commuter Railroad Corporation  Comm…        146. \n 4 New Jersey Transit Corporation                             Comm…        119. \n 5 MTA New York City Transit                                  Comm…        112. \n 6 Massachusetts Bay Transportation Authority                 Bus          106. \n 7 Massachusetts Bay Transportation Authority                 Comm…         84.4\n 8 Woods Hole, Martha's Vineyard and Nantucket Steamship Aut… Ferr…         78.0\n 9 MTA Long Island Rail Road                                  Comm…         73.9\n10 Peninsula Corridor Joint Powers Board                      Comm…         67.5\n# ℹ 136 more rows\n\n\nWe found that the New Jersey Transit Corporation for buses had the highest fares of $525 per UPT. Following this is the MTA’s Metro-North Railroad’s commuter bus, costing $161 per UPT, and further down is the MTA NYC’s transit commuter bus costing $112 per UPT. These findings may be due to a number of possible suggestions, such as the type of commuters being served. For example, it’s possible that certain systems serve higher-income commuters which allows systems to charge higher prices and as a result generate more revenue, even if its overall ridership is lower when compared to other agencies.\nAnother important question to consider is which transit system had the lowest expenses per VRM in order to find out which agency provides the best cost-effective services based on miles traveled:\n\nlowest_exp_vrm &lt;- USAGE_AND_FINANCIALS |&gt;\n  filter(UPT &gt;= 400000) |&gt;\n  mutate(exp_per_vrm = Expenses/VRM) |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarize(min_exp_vrm = min(exp_per_vrm, na.rm = TRUE)) |&gt;\n  arrange(min_exp_vrm)\n\nprint(lowest_exp_vrm)\n\n# A tibble: 146 × 3\n# Groups:   Agency [112]\n   Agency                                              Mode       min_exp_vrm\n   &lt;chr&gt;                                               &lt;chr&gt;            &lt;dbl&gt;\n 1 Interurban Transit Partnership                      Bus               77.2\n 2 City of El Paso                                     Bus               85.8\n 3 Des Moines Area Regional Transit Authority          Bus               86.3\n 4 Central Florida Regional Transportation Authority   Bus               87.5\n 5 San Francisco Bay Area Rapid Transit District       Heavy Rail        88.8\n 6 Transportation District Commission of Hampton Roads Bus               88.9\n 7 City of Gainesville, FL                             Bus               90.1\n 8 Greater Lafayette Public Transportation Corporation Bus               90.5\n 9 Ames Transit Agency                                 Bus               92.0\n10 Delaware Transit Corporation                        Bus               92.4\n# ℹ 136 more rows\n\n\nThe Interurban Transit Partnership was found to have the lowest expenses per VRM at $77.20, followed by City of El Paso and Des Moines Area Regional Transit Authority, all of which are bus transportation. It’s important to consider not only the mode, since certain vehicles are more costly than others to run, but also the demand for public transit as we’ve discussed earlier. Depending on the size of transit systems and service provided, it likely affects the agency’s ability to operate efficiently on a per-mile basis.\nTo further assess transit systems’ revenue efficiency, we should also consider the highest total fares per VRM:\n\nhighest_fare_vrm &lt;- USAGE_AND_FINANCIALS |&gt;\n  filter(UPT &gt;= 400000) |&gt;\n  mutate(fare_per_vrm = `Total Fares`/VRM) |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarize(max_fare_vrm = max(fare_per_vrm, na.rm = TRUE)) |&gt;\n  arrange(desc(max_fare_vrm))\n\nprint(highest_fare_vrm)\n\n# A tibble: 146 × 3\n# Groups:   Agency [112]\n   Agency                                                     Mode  max_fare_vrm\n   &lt;chr&gt;                                                      &lt;chr&gt;        &lt;dbl&gt;\n 1 Washington State Ferries                                   Ferr…       1120. \n 2 Woods Hole, Martha's Vineyard and Nantucket Steamship Aut… Ferr…        829. \n 3 New York City Economic Development Corporation             Ferr…        188. \n 4 Anaheim Transportation Network                             Bus          170. \n 5 Massachusetts Bay Transportation Authority                 Ligh…        131. \n 6 Port Authority Trans-Hudson Corporation                    Heav…        119. \n 7 Massachusetts Bay Transportation Authority                 Heav…        101. \n 8 MTA Long Island Rail Road                                  Comm…         98.6\n 9 Metro-North Commuter Railroad Company, dba: MTA Metro-Nor… Comm…         94.4\n10 MTA New York City Transit                                  Heav…         91.5\n# ℹ 136 more rows\n\n\nWashington State Ferries generate the most revenue at $1,120 for each mile that its ferry operates, whereas MTA NYC Transit’s heavy rail generates $91.50 per VRM. A high fare per VRM may suggest that a transit system is utilizing resources and providing services to riders efficiently. Essentially, it’s a measure of a system’s operations and financial viability. It is possible that less common transit modes such as ferries may receive more revenue per mile traveled due to the generally niche group of commuters the agency serves.\n\n\nConcluding Notes\nIt now comes to a point where we should ask ourselves, which is the most efficient transit system in the country? The answer to this opinionated question depends on how we define efficiency. We’ve discussed total passenger fares compared to UPT and VRM, both of which measure efficiency from different perspectives - passenger usage versus services provided. Does a financially self-sustaining transit system necessarily mean it’s more efficient? Or maybe low expenses per rider would be a better measure of efficiency, because it would suggest a transit system’s ability to provide affordable services to its riders.\nIn this case, we’ll define efficiency to be the cost associated with each passenger ride (expense per UPT) and highest number of riders (UPT). From the analysis above, we did find Anaheim Transportation Network to have the lowest ridership costs. So from the looks of it, it seems that Anaheim Transportation Network (ATN) would be the most efficient transit system in the country. However, as already emphasized throughout this project, the size and scope of services provided by transit systems play a crucial role with respect to its efficiency. While ATN bus service appears to be cost effective, it is also a way smaller system when compared to major transit systems such as the MTA (specifically their heavy rail services). Now, the MTA’s cost per passenger (for heavy rail) is more than double of that of ANT. But being that the MTA serves the most passengers, and despite their existing challenges to cover operational costs with fare revenues, I would say that their system is still one of the most efficient transit services across the country. Overall, I would answer this question in two ways; ANT is considered the most efficient transit service among smaller-scaled systems, while New York City’s MTA services ranks the same when compared against larger-scaled systems."
  },
  {
    "objectID": "mp01.html#section",
    "href": "mp01.html#section",
    "title": "Exploring the Fiscal Characteristics of Major US Public Transit Systems",
    "section": "09/22/2024",
    "text": "09/22/2024"
  },
  {
    "objectID": "mp01.html#the-data-explained",
    "href": "mp01.html#the-data-explained",
    "title": "Exploring the Fiscal Characteristics of Major US Public Transit Systems",
    "section": "The Data Explained",
    "text": "The Data Explained\nWhile the farebox ratio does provide key insights about a transit’s operational efficiency, it is a starting point to the many other factors that subjectively impact what a healthy transit service may look like. In this analysis, I’ll be using data obtained from the National Transit Database (NTD) to analyze and judge the efficiency of US transit systems. More specifically, focus will be placed on farebox revenues, total revenues and expenses, and the total number of passenger trips and vehicle miles traveled. Data is compiled over the years from as early as 2002 to present day, however for purposes of my analysis, I will be using the 2022 version of the reports. This is done by combining several variables from the 2022 Fare Revenue table, the latest Monthly Ridership tables, and the 2022 Operating Expenses reports.\n\nif(!require(\"tidyverse\")) install.packages(\"tidyverse\")\n\nWarning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.2\n\n\nWarning: package 'tibble' was built under R version 4.3.2\n\n\nWarning: package 'tidyr' was built under R version 4.3.2\n\n\nWarning: package 'readr' was built under R version 4.3.2\n\n\nWarning: package 'purrr' was built under R version 4.3.2\n\n\nWarning: package 'dplyr' was built under R version 4.3.2\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'forcats' was built under R version 4.3.2\n\n\nWarning: package 'lubridate' was built under R version 4.3.2\n\n# Let's start with Fare Revenue\nlibrary(tidyverse)\nif(!file.exists(\"2022_fare_revenue.xlsx\")){\n  # This should work _in theory_ but in practice it's still a bit finicky\n  # If it doesn't work for you, download this file 'by hand' in your\n  # browser and save it as \"2022_fare_revenue.xlsx\" in your project\n  # directory.\n  download.file(\"http://www.transit.dot.gov/sites/fta.dot.gov/files/2024-04/2022%20Fare%20Revenue.xlsx\", \n                destfile=\"2022_fare_revenue.xlsx\", \n                quiet=FALSE, \n                method=\"wget\")\n}\nFARES &lt;- readxl::read_xlsx(\"2022_fare_revenue.xlsx\") |&gt;\n  select(-`State/Parent NTD ID`, \n         -`Reporter Type`,\n         -`Reporting Module`,\n         -`TOS`,\n         -`Passenger Paid Fares`,\n         -`Organization Paid Fares`) |&gt;\n  filter(`Expense Type` == \"Funds Earned During Period\") |&gt;\n  select(-`Expense Type`)\n\n# Next, expenses\nif(!file.exists(\"2022_expenses.csv\")){\n  # This should work _in theory_ but in practice it's still a bit finicky\n  # If it doesn't work for you, download this file 'by hand' in your\n  # browser and save it as \"2022_expenses.csv\" in your project\n  # directory.\n  download.file(\"https://data.transportation.gov/api/views/dkxx-zjd6/rows.csv?date=20231102&accessType=DOWNLOAD&bom=true&format=true\", \n                destfile=\"2022_expenses.csv\", \n                quiet=FALSE, \n                method=\"wget\")\n}\nEXPENSES &lt;- readr::read_csv(\"2022_expenses.csv\") |&gt;\n  select(`NTD ID`, \n         `Agency`,\n         `Total`, \n         `Mode`) |&gt;\n  mutate(`NTD ID` = as.integer(`NTD ID`)) |&gt;\n  rename(Expenses = Total) |&gt;\n  group_by(`NTD ID`, `Mode`) |&gt;\n  summarize(Expenses = sum(Expenses)) |&gt;\n  ungroup()\n\nFINANCIALS &lt;- inner_join(FARES, EXPENSES, join_by(`NTD ID`, `Mode`))\n\n# Monthly Transit Numbers\nlibrary(tidyverse)\nif(!file.exists(\"ridership.xlsx\")){\n  # This should work _in theory_ but in practice it's still a bit finicky\n  # If it doesn't work for you, download this file 'by hand' in your\n  # browser and save it as \"ridership.xlsx\" in your project\n  # directory.\n  download.file(\"https://www.transit.dot.gov/sites/fta.dot.gov/files/2024-09/July%202024%20Complete%20Monthly%20Ridership%20%28with%20adjustments%20and%20estimates%29_240903.xlsx\", \n                destfile=\"ridership.xlsx\", \n                quiet=FALSE, \n                method=\"wget\")\n}\nTRIPS &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"UPT\") |&gt;\n  filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n  select(-`Legacy NTD ID`, \n         -`Reporter Type`, \n         -`Mode/Type of Service Status`, \n         -`UACE CD`, \n         -`TOS`) |&gt;\n  pivot_longer(-c(`NTD ID`:`3 Mode`), \n               names_to=\"month\", \n               values_to=\"UPT\") |&gt;\n  drop_na() |&gt;\n  mutate(month=my(month)) # Parse _m_onth _y_ear date specs\nMILES &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"VRM\") |&gt;\n  filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n  select(-`Legacy NTD ID`, \n         -`Reporter Type`, \n         -`Mode/Type of Service Status`, \n         -`UACE CD`, \n         -`TOS`) |&gt;\n  pivot_longer(-c(`NTD ID`:`3 Mode`), \n               names_to=\"month\", \n               values_to=\"VRM\") |&gt;\n  drop_na() |&gt;\n  group_by(`NTD ID`, `Agency`, `UZA Name`, \n           `Mode`, `3 Mode`, month) |&gt;\n  summarize(VRM = sum(VRM)) |&gt;\n  ungroup() |&gt;\n  mutate(month=my(month)) # Parse _m_onth _y_ear date specs\n\nUSAGE &lt;- inner_join(TRIPS, MILES) |&gt;\n  mutate(`NTD ID` = as.integer(`NTD ID`))\n\nAfter cleaning and joining the data, it is finally ready for our use. The table below is a sample of our data, showcasing the variables used in uncovering farebox recovery ratios and ridership trends over time:\n\nif(!require(\"DT\")) install.packages(\"DT\")\n\nWarning: package 'DT' was built under R version 4.3.3\n\nlibrary(DT)\n\nsample_n(USAGE, 1000) |&gt; \n    mutate(month=as.character(month)) |&gt; \n    DT::datatable()"
  },
  {
    "objectID": "mp01.html#objective",
    "href": "mp01.html#objective",
    "title": "Exploring the Fiscal Characteristics of Major US Public Transit Systems",
    "section": "Objective",
    "text": "Objective\nAs cities expand and populations grow across the US, public transit continues to play a critical role in minimizing harmful emissions, reducing congestion, and is essential in providing accessible transit options. However, at what cost is it worth? Ultimately, passengers would love the idea of free transportation. Yet the financial health of transit systems across the country remains a challenge to most areas. One way this is measured is the farebox recovery ratio, that is, how much a transit system’s costs are covered by passenger fares. Essentially, it’s the fraction of revenues made from the fares we pay instead of taxes. It then comes to a question where we ask ourselves, are the transit systems we use really worth the money we pay? What does a fiscally healthy transit service look like and how efficient is it? How do transit systems across the country compare?"
  }
]